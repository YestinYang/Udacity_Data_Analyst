# 用Tableau讲故事

## 故事链接

- 初版：https://public.tableau.com/profile/yang.yue5767#!/vizhome/Udacity_Tableau_Project_v1_0/LogHRvsBatingAvg?publish=yes
- 终版：https://public.tableau.com/profile/yang.yue5767#!/vizhome/Udacity_Tableau_Project_final/sheet5?publish=yes

## 总结

通过对棒球数据集进行可视化，得出以下结论：

- 击球手的BMI数据分布呈双峰态，BMI处于23和25范围的球员最多。
- 击球手的平均全垒打数量随BMI的增加而提高，但平均击球率却没有显著的变化。
- 习惯使用双手和左手的击球手拥有较高的击球率。
- 击球率越高的击球手，生涯积累的全垒打数量就越多。

## 设计

> 在初期的EDA中发现，此数据集中有266条记录的avg（击球率）和HR（全垒打数量）数据同时为0。抽取其中多个名字进行搜索发现其均为投手，而非击球手。从此项目的分析逻辑上来讲，投手的击球率和全垒打数量不在考虑范围内，故在进行以下所有可视化设计时，皆通过filter移除了该部分数据。

### 初版设计

1. 通过DashBoard中上下排列的两个直方图探索了球员的体重（箱宽=5）和身高（箱宽=1）的分布情况，并展示了投手和击球手的filter（可同时控制两个直方图）。此图的目的是为接下来探索体重/身高与击球率/全垒打数量的关系做铺垫。
2. 通过折线图探索了球员体重（箱宽=5）和身高（箱宽=1）与击球率（聚合数据）的关系，其中x轴为分箱后的体重和身高，左侧y轴为每个分箱内球员的平均击球率（对应折线使用浅蓝色编码），右侧y轴为每个分箱内球员的击球率中位值（对应折线使用浅橘色编码）。展示了投手和击球手的filter（可同时控制两个折线图），和颜色编码的图例。
3. 通过折线图探索了球员体重（箱宽=5）和身高（箱宽=1）与全垒打数量（聚合数据）的关系，其中x轴为分箱后的体重和身高，左侧y轴为每个分箱内球员的平均全垒打数量（对应折线使用浅蓝色编码），右侧y轴为每个分箱内球员的全垒打数量中位值（对应折线使用浅橘色编码）。展示了投手和击球手的filter（可同时控制两个折线图），和颜色编码的图例。
4. 通过箱形图探索了偏手性与击球率和全垒打数量的关系，其中x轴为偏手性，y轴为对应数值的原始数据。其中隐藏了箱形图区域内的数据点，以使界面更加简洁易于阅读。展示了投手和击球手的filter（可同时控制两个箱形图）。
5. 通过DashBoard中上下排列的两个散点图探索了击球率与全垒打数量的关系，其中x轴为击球率，y轴分别为全垒打数量和对数转化后的全垒打数量。此图的目的在于展示击球率与全垒打数量的指数关联性。点形状选择了空心圆圈，以便于观察点的重合程度。展示了投手和击球手的filter（可同时控制两个散点图）。

### 反馈后的更改

根据受访者的反馈，做出了以下主要修改：

1. 所有可视化标注部分使用中文；
2. 在第一张图的说明中加入关于数据集的描述；
3. 将身高和体重合并为BMI指数；
4. 投手数据在此可视化分析中没有意义，故在连接数据（Data Source）阶段过滤掉投手数据（Avg=0），不再在之后的可视化中显示投手和击球手的filter；
5. 在研究全垒打数量与击球率关系时，使用聚合的平均全垒打数量代替全垒打数量，突出趋势性和相关性。

据上述修改后，具体可视化设计如下：

1. 通过直方图展现球员的BMI分布情况，其中BMI的计算采用$$\frac{Weight}{Height^2} \times 703$$公式创建一个新的Measures，并通过尝试，确定采用箱宽=1。
2. 通过折线图展现球员BMI与击球率和全垒打数量的关系，此处x轴使用了与直方图相同的箱宽以实现折线的平滑处理，左侧y轴为每个箱内的平均击球率（对应折线使用墨绿色编码），右侧y轴为每个箱内的平均全垒打数量（对应折线使用红色编码）。
3. 通过箱形图展现不同偏手性的球员，其BMI、击球率和全垒打数量的分布差异，其中x轴为对应类别的原始数据，y轴为偏手性。可视化中隐藏了箱形图区域内的数据点，并以颜色double encoding偏手性，以使界面更加简洁易于阅读。
4. 通过散点图展现击球率与全垒打数量的关系，其中全垒打数量采用的是聚合后的平均值（更加清晰地展现趋势，减少直接使用原始数据所带来的视觉噪音），并添加了指数拟合线以反映其相关性。
5. 通过DashBoard联动球员BMI/击球率/全垒打数量三者，使用偏手性filter同时控制两个可视化图形，展现不同偏手性的球员其BMI与击球率/全垒打数量的关系，以及其击球率与全垒打数量的关系。

## 反馈

此部分反馈来源一位受访者的当面交谈。

- 你在此可视化中注意到了什么？
  - 回答：看到了柱状图，折线图, box plot和最后拟合的图。图中标注为英文，而故事解释为中文。
- 你对此数据有何问题？
  - 回答：数据源来自于哪里？样本量有多大？球员的BMI指标与击球率/全垒打的关联？投手的数据均为0，对于分析有什么意义？
- 你注意到什么关系？
  - 回答：球员的身高体重，用手习惯和击球率/全垒打的关系。
- 你认为在此可视化中的主要收获是什么？
  - 回答：可以从中得出一些甄选潜力运动员的重要指标。
- 此图形中是否有你不理解的部分？
  - 回答：有，身高与击球率的图表中存在明显变化的曲线，为什么得出没有关联的结论。

## 资源

N/A