xlim(c(13,71))
grid.arrange(p1,p2, ncol = 1)
p1 = ggplot(aes(x = age, y = fc_mean), data = subset(pf.fc_by_age, age<71)) +
geom_line() +
xlim(c(13,71))
p2 = ggplot(aes(x = age_with_months, y = friend_count_mean), data = subset(pf.fc_by_age_months, age_with_months<71)) +
geom_line() +
xlim(c(13,71))
p3 = ggplot(aes(x = age, y = friend_count), data = subset(pf, age_with_months<71)) +
geom_line() +
xlim(c(13,71))
grid.arrange(p1,p2,p3 ncol = 1)
p1 = ggplot(aes(x = age, y = fc_mean), data = subset(pf.fc_by_age, age<71)) +
geom_line() +
xlim(c(13,71))
p2 = ggplot(aes(x = age_with_months, y = friend_count_mean), data = subset(pf.fc_by_age_months, age_with_months<71)) +
geom_line() +
xlim(c(13,71))
p3 = ggplot(aes(x = age, y = friend_count), data = subset(pf, age_with_months<71)) +
geom_line() +
xlim(c(13,71))
grid.arrange(p1,p2,p3, ncol = 1)
p1 = ggplot(aes(x = age, y = fc_mean), data = subset(pf.fc_by_age, age<71)) +
geom_line()
p2 = ggplot(aes(x = age_with_months, y = friend_count_mean), data = subset(pf.fc_by_age_months, age_with_months<71)) +
geom_line()
p3 = ggplot(aes(x = age, y = friend_count), data = subset(pf, age<71)) +
geom_line('summary', fun.y = mean)
grid.arrange(p1,p2,p3, ncol = 1)
p1 = ggplot(aes(x = age, y = fc_mean), data = subset(pf.fc_by_age, age<71)) +
geom_line()
p2 = ggplot(aes(x = age_with_months, y = friend_count_mean), data = subset(pf.fc_by_age_months, age_with_months<71)) +
geom_line()
p3 = ggplot(aes(x = age, y = friend_count), data = subset(pf, age<71)) +
geom_line(stat = 'summary', fun.y = mean)
grid.arrange(p1,p2,p3, ncol = 1)
p1 = ggplot(aes(x = age, y = fc_mean), data = subset(pf.fc_by_age, age<71)) +
geom_line()
p2 = ggplot(aes(x = age_with_months, y = friend_count_mean), data = subset(pf.fc_by_age_months, age_with_months<71)) +
geom_line()
p3 = ggplot(aes(x = age/5, y = friend_count), data = subset(pf, age<71)) +
geom_line(stat = 'summary', fun.y = mean)
grid.arrange(p1,p2,p3, ncol = 1)
p1 = ggplot(aes(x = age, y = fc_mean), data = subset(pf.fc_by_age, age<71)) +
geom_line()
p2 = ggplot(aes(x = age_with_months, y = friend_count_mean), data = subset(pf.fc_by_age_months, age_with_months<71)) +
geom_line()
p3 = ggplot(aes(x = round(age/5)*5, y = friend_count), data = subset(pf, age<71)) +
geom_line(stat = 'summary', fun.y = mean)
grid.arrange(p1,p2,p3, ncol = 1)
?geom_smooth
dm = diamonds
View(dm)
ggplot(aes(x = x, y = price), data = dm) +
geom_point()
qplot(x,dm)
qplot(x=x,dm)
qplot(x = x,data = dm)
qplot(x = price,data = dm)
with(dm, cor.test(x, price, method = 'spearman'))
with(dm, cor.test(x, price, method = 'pearson'))
qplot(x = y,data = dm)
qplot(x = z,data = dm)
with(dm, cor.test(x, price, method = 'spearman'))
with(dm, cor.test(y, price, method = 'spearman'))
with(dm, cor.test(z, price, method = 'spearman'))
with(dm, cor.test(x, price, method = 'pearson'))
with(dm, cor.test(y, price, method = 'pearson'))
with(dm, cor.test(z, price, method = 'pearson'))
ggplot(aes(x = depth, y = price), data = dm) +
geom_point()
ggplot(aes(x = depth, y = price), data = dm) +
geom_point(alpha = 1/100)
ggplot(aes(x = depth, y = price), data = dm) +
geom_point(alpha = 1/100) +
scale_x_continuous(breaks = seq(50,70,2))
ggplot(aes(x = depth, y = price), data = dm) +
geom_point(alpha = 1/100) +
scale_x_continuous(breaks = seq(50,70,2))
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
ggplot(aes(x = depth, y = price), data = dm) +
geom_point(alpha = 1/100) +
scale_x_continuous(breaks = seq(50,70,2))
with(dm, cor.test(depth, price))
ggplot(aes(x = carat, y = price), data = dm) +
geom_point()
ggplot(aes(x = carat, y = price), data = dm) +
geom_point() +
xlim(0, quantile(dm$carat, 0.9)) +
ylim(0, quantile(dm$price, 0.9))
ggplot(aes(x = carat, y = price), data = dm) +
geom_point() +
xlim(0, quantile(dm$carat, 0.99)) +
ylim(0, quantile(dm$price, 0.99))
ggplot(aes(x = x*y*z, y = price), data = dm) +
geom_point()
dm$volume = dm$x * dm$y *dm$z
dm$volume = dm$x * dm$y *dm$z
ggplot(aes(x = volume, y = price), data = dm) +
geom_point()
ggplot(aes(x = volume, y = price), data = dm) +
geom_point() +
xlim(0,1000)
ggplot(aes(x = volume, y = price), data = dm) +
geom_point() +
xlim(0,750)
with(dm[dm$volume > 0 & dm$volume <800], cor.test(x = volume, y = price))
with(dm[(dm$volume > 0) & (dm$volume <800)], cor.test(x = volume, y = price))
with(dm[(dm$volume > 0) && (dm$volume < 800)], cor.test(x = volume, y = price))
with(dm[(dm$volume > 0) && (dm$volume <= 800)], cor.test(x = volume, y = price))
with(dm[(dm$volume > 0) & (dm$volume < 800)], cor.test(x = volume, y = price))
dm[(dm$volume > 0) && (dm$volume < 800)]
with(dm, cor.test(x = volume, y = price))
with(subset(dm, (dm$volume > 0) && (dm$volume < 800)), cor.test(x = volume, y = price))
ggplot(aes(x = carat, y = price), data = dm[(dm$volume > 0) && (dm$volume < 800)]) +
geom_point()
ggplot(aes(x = volume, y = price), data = dm[(dm$volume > 0) && (dm$volume < 800)]) +
geom_point()
ggplot(aes(x = volume, y = price), data = dm[(dm$volume > 0) & (dm$volume < 800)]) +
geom_point(alpha = )
ggplot(aes(x = volume, y = price), data = dm[(volume > 0) & (volume < 800)]) +
geom_point(alpha = )
with(dm[(dm$volume > 0) & (dm$volume < 800),], cor.test(x = volume, y = price))
ggplot(aes(x = volume, y = price), data = dm[(dm$volume > 0) & (dm$volume < 800),]) +
geom_point(alpha = 1/20)
ggplot(aes(x = volume, y = price), data = dm[(dm$volume > 0) & (dm$volume < 800),]) +
geom_point(alpha = 1/100)
ggplot(aes(x = volume, y = price), data = dm[(dm$volume > 0) & (dm$volume < 800),]) +
geom_point(alpha = 1/100) +
geom_smooth(method = 'lm')
library("dplyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
diamondsByClarity = dm %>%
group_by(clarity) %>%
summarise(mean_price = mean(price),
median_price = median(price),
min_price = min(price),
max_price = max(price),
n = n())
View(diamondsByClarity)
library("gridExtra", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
diamonds_by_clarity <- group_by(diamonds, clarity)
diamonds_mp_by_clarity <- summarise(diamonds_by_clarity, mean_price = mean(price))
diamonds_by_color <- group_by(diamonds, color)
diamonds_mp_by_color <- summarise(diamonds_by_color, mean_price = mean(price))
View(diamonds_mp_by_color)
ggplot(aes(x = color, y = mean_price), data = diamonds_mp_by_color) +
geom_bar()
ggplot(aes(x = color, y = mean_price), data = diamonds_mp_by_color) +
geom_bar(stat = 'identity')
p1 = ggplot(aes(x = color, y = mean_price), data = diamonds_mp_by_color) +
geom_bar(stat = 'identity')
p2 = ggplot(aes(x = clarity, y = mean_price), data = diamonds_mp_by_clarity) +
geom_bar(stat = 'identity')
grid.arrange(p1,p2)
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
library("dplyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
ggplot(aes(x = gender, y = age),
data = subset(pf, !is.na(gender))) + geom_histogram()
pwd
cwd
pwd()
?cwd
pf = read.csv('/lesson3/pseudo_facebook.tsv')
pf = read.csv('\lesson3\pseudo_facebook.tsv')
getwd()
pf = read.csv('./lesson3/pseudo_facebook.tsv', sep = '\t')
View(pf)
ggplot(aes(x = gender, y = age),
data = subset(pf, !is.na(gender))) + geom_histogram()
View(pf)
ggplot(aes(x = gender, y = age),
data = subset(pf, !is.na(gender))) + geom_histogram()
ggplot(aes(x = gender, y = age),
data = subset(pf, !is.na(gender))) + geom_boxplot()
pf.fc_by_age_gender = pf %>%
group_by(age, gender) +
summarise(mean_friend_count = mean(friend_count),
median_friend_count = median(friend_count),
n = n())
pf.fc_by_age_gender = pf %>%
group_by(age, gender) %>%
summarise(mean_friend_count = mean(friend_count),
median_friend_count = median(friend_count),
n = n())
View(pf.fc_by_age_gender)
View(pf.fc_by_age_gender)
pf.fc_by_age_gender = pf %>%
filter(!is.na(gender))
pf.fc_by_age_gender = pf %>%
filter(!is.na(gender)) %>%
group_by(age, gender) %>%
summarise(mean_friend_count = mean(friend_count),
median_friend_count = median(friend_count),
n = n())
View(pf.fc_by_age_gender)
pf.fc_by_age_gender = pf %>%
filter(!is.na(gender)) %>%
group_by(age, gender) %>%
summarise(mean_friend_count = mean(friend_count),
median_friend_count = median(friend_count),
n = n()) %>%
ungroup()
View(pf.fc_by_age_gender)
pf.fc_by_age_gender = pf %>%
filter(!is.na(gender)) %>%
group_by(age, gender) %>%
summarise(mean_friend_count = mean(friend_count),
median_friend_count = median(friend_count),
n = n()) %>%
ungroup() %>%
arrange(age)
View(pf.fc_by_age_gender)
pf.fc_by_age_gender = pf %>%
filter(!is.na(gender)) %>%
group_by(age, gender) %>%
summarise(mean_friend_count = mean(friend_count),
median_friend_count = median(friend_count),
n = n())
View(pf.fc_by_age_gender)
?geom_histogram
ggplot(aes(x = age, y = median_friend_count), data = pf.fc_by_age_gender) +
geom_freqpoly()
ggplot(aes(x = age, y = median_friend_count), data = pf.fc_by_age_gender) +
geom_line(aes(color = gender))
library("reshape2", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
install.packages('reshape2')
library(reshape2)
pf.fc_by_age_gender.wide = dcast(pf.fc_by_age_gender,
age ~ gender,
value.var = 'median_friend_count')
View(pf.fc_by_age_gender.wide)
ggplot(aes(x = age, y = female / male), data = pf.fc_by_age_gender.wide) +
geom_line() +
geom_hline(yintercept = 1, alpha = 0.3, linetype = 2)
pf$year_joined = floor(2014 - pd$tenure/365)
pf$year_joined = floor(2014 - pf$tenure/365)
ï¼Ÿcut
?cut
pf$year_joined.bucket = cut(pf$year_joined,
c(2004,2009,2011,2012,2014))
table(cut(pf$year_joined, breaks = ))
pf$year_joined.bucket = cut(pf$year_joined,
c(2004,2009,2011,2012,2014))
View(pf)
table(pf$year_joined.bucket)
ggplot(aes(x = year_joined.bucket, y = friend_count), data = pf) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', median)
ggplot(aes(x = year_joined.bucket, y = friend_count), data = pf) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median)
ggplot(aes(x = age, y = friend_count), data = pf) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median)
ggplot(aes(x = age, y = friend_count),
data = subset(pf, !is.na(year_joined.bucket))) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median)
ggplot(aes(x = age, y = friend_count),
data = subset(pf, !is.na(year_joined.bucket))) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = mean)
ggplot(aes(x = age, y = friend_count),
data = subset(pf, !is.na(year_joined.bucket))) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = mean) +
```
ggplot(aes(x = age, y = friend_count),
data = subset(pf, !is.na(year_joined.bucket))) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = mean)
ggplot(aes(x = age, y = friend_count),
data = subset(pf, !is.na(year_joined.bucket))) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median) +
geom_line(aes(color = year_joined.bucket), linetype = 2, stat = 'summary', fun.y = mean)
ggplot(aes(x = age, y = friend_count),
data = subset(pf, !is.na(year_joined.bucket))) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = median) +
geom_line(linetype = 2, stat = 'summary', fun.y = mean)
with(subset(pf,tenure>=1), summary(friend_count/tenure))
ggplot(aes(x = tenure, y = friendships_initiated / tenure),
data = subset(pf, tenure >= 1)) +
geom_line(aes(color = year_joined.bucket), stat = 'summary', fun.y = mean)
ggplot(aes(x = tenure, y = friendships_initiated / tenure),
data = subset(pf, tenure >= 1)) +
geom_line(aes(color = year_joined.bucket),
stat = 'summary',
fun.y = mean)
ggplot(aes(x = 7 * round(tenure / 7), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = 30 * round(tenure / 30), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = 90 * round(tenure / 90), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = tenure, y = friendships_initiated / tenure),
data = subset(pf, tenure >= 1)) +
geom_line(aes(color = year_joined.bucket),
stat = 'summary',
fun.y = mean)
ggplot(aes(x = 7 * round(tenure / 7), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = 30 * round(tenure / 30), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = 90 * round(tenure / 90), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_line(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = 90 * round(tenure / 90), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_smooth(aes(color = year_joined.bucket),
stat = "summary",
fun.y = mean)
ggplot(aes(x = 90 * round(tenure / 90), y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_smooth(aes(color = year_joined.bucket))
ggplot(aes(x = tenure, y = friendships_initiated / tenure),
data = subset(pf, tenure > 0)) +
geom_smooth(aes(color = year_joined.bucket))
yo = read.csv('./lesson5/yogurt.csv')
View(yo)
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
ggplot(aes(x = price), data = yo) +
geom_histogram()
ggplot(aes(x = price), data = yo) +
geom_histogram(binwidth = 10)
ggplot(aes(x = price), data = yo) +
geom_histogram(binwidth = 5)
ggplot(aes(x = price), data = yo) +
geom_histogram(binwidth = 1)
ï¼Ÿtransform
?transform
?sum
?transform
yo$all.purchases = yo$strawberry + yo$blueberry + yo$pina.colada + yo$plain + yo$mixed.berry
ggplot(aes(x = all.purchases), data = yo) +
geom_histogram()
ggplot(aes(x = time, y = price), data = yo) +
geom_point()
ggplot(aes(x = time, y = price), data = yo) +
geom_point(alpha = 1/20)
ggplot(aes(x = time, y = price), data = yo) +
geom_point(alpha = 1/50)
ggplot(aes(x = time, y = price), data = yo) +
geom_jitter(alpha = 1/50)
ggplot(aes(x = time, y = price), data = yo) +
geom_jitter(alpha = 1/4, shape = 21)
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
set.seed(4321)
sample.id = sample(levels(yo$id), 16)
ggplot(aes(x = time, y = price), data = subset(yo, pf$id %in% sample.id)) +
geom_line() +
geom_point(aes(size = all.purchases))
set.seed(4321)
sample.ids = sample(levels(yo$id), 16)
?sample
sample(1:12, replace = TRUE)
levels(yo$id)
yo$id
levels(yo$id)
?levels
levels(1:12)
summary(yo)
yo$id = factor(yo$id)
summary(yo)
set.seed(4321)
sample.ids = sample(levels(yo$id), 16)
ggplot(aes(x = time, y = price), data = subset(yo, pf$id %in% sample.id)) +
geom_line() +
geom_point(aes(size = all.purchases))
set.seed(4321)
sample.ids = sample(levels(yo$id), 16)
ggplot(aes(x = time, y = price), data = subset(yo, pf$id %in% sample.ids)) +
geom_line() +
geom_point(aes(size = all.purchases))
ggplot(aes(x = time, y = price), data = subset(yo, pf$id %in% sample.ids)) +
facet_wrap(~id) +
geom_line() +
geom_point(aes(size = all.purchases))
set.seed(4321)
sample.ids = sample(levels(yo$id), 16)
ggplot(aes(x = time, y = price), data = subset(yo, pf$id %in% sample.ids)) +
facet_wrap( ~ id) +
geom_line() +
geom_point(aes(size = all.purchases))
set.seed(4321)
sample.ids = sample(levels(yo$id), 16)
ggplot(aes(x = time, y = price), data = subset(yo, id %in% sample.ids)) +
facet_wrap( ~ id) +
geom_line() +
geom_point(aes(size = all.purchases))
ggplot(aes(x = time, y = price), data = subset(yo, id %in% sample.ids)) +
facet_wrap( ~ id) +
geom_line() +
geom_point(aes(size = all.purchases), pch = 1)
install.packages("GGally")
library("GGally", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
set.seed(1836)
pf_subset = pf[,c(2:15)]  # remove user id
ggpairs(pf_subset[sample.int(nrow(pf_subset),1000),])
colnames(nci) <- c(1:64)
nci <- read.table("./lesson5/nci.tsv")
colnames(nci) <- c(1:64)
View(nci)
nci.long.samp <- melt(as.matrix(nci[1:200,]))
names(nci.long.samp) <- c("gene", "case", "value")
head(nci.long.samp)
ggplot(aes(y = gene, x = case, fill = value),
data = nci.long.samp) +
geom_tile() +
scale_fill_gradientn(colours = colorRampPalette(c("blue", "red"))(100))
library("reshape2", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
nci.long.samp <- melt(as.matrix(nci[1:200,]))
names(nci.long.samp) <- c("gene", "case", "value")
head(nci.long.samp)
ggplot(aes(y = gene, x = case, fill = value),
data = nci.long.samp) +
geom_tile() +
scale_fill_gradientn(colours = colorRampPalette(c("blue", "red"))(100))
dm = diamonds
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
dm = diamonds
?geom_histogram
ggplot(aes(x = price, color = cut), data = dm) +
geom_histogram() +
facet_wrap(~color)
ggplot(aes(x = price, color = cut), data = dm) +
geom_histogram(scale_fill_brewer(type = 'qual')) +
facet_wrap(~color)
ggplot(aes(x = price, color = cut), data = dm) +
geom_histogram(scale_fill_brewer(type = 'qual')) +
facet_wrap(~color)
ggplot(aes(x = price, color = cut), data = dm) +
geom_histogram(aes(scale_fill_brewer(type = 'qual'))) +
facet_wrap(~color)
ggplot(aes(x = price, color = cut), data = dm) +
geom_histogram() +
scale_fill_brewer(type = 'qual') +
facet_wrap(~color)
ggplot(aes(x = price, color = cut), data = dm) +
geom_histogram() +
scale_color_brewer(type = 'qual') +
facet_wrap(~color)
ggplot(aes(x = price, color = cut), data = dm) +
geom_histogram() +
scale_color_brewer(type = 'qual') +
facet_wrap(~color)
ggplot(aes(x = price, fill = cut), data = dm) +
geom_histogram() +
scale_fill_brewer(type = 'qual') +
facet_wrap(~color)
ggplot(aes(x = log(price), fill = cut), data = dm) +
geom_histogram() +
scale_fill_brewer(type = 'qual') +
facet_wrap(~color)
ggplot(data = dm, aes(x = table, y = price, color = cut)) +
geom_scatter() +
scale_color_brewer(type = 'qual')
ggplot(data = dm, aes(x = table, y = price, color = cut)) +
geom_point() +
scale_color_brewer(type = 'qual')
?summary
ggplot(data = dm, aes(x = x*y*z, y = price, color = clarity)) +
xlim(0, quantile(dm$x * dm$y * dm$z, 0.99)) +
geom_point() +
scale_color_brewer(type = 'div')
ggplot(data = dm, aes(x = x*y*z, y = log(price), color = clarity)) +
xlim(0, quantile(dm$x * dm$y * dm$z, 0.99)) +
geom_point() +
scale_color_brewer(type = 'div')
pf = read.csv('./lesson3/pseudo_facebook.tsv', sep = '/t')
pf = read.csv('./lesson3/pseudo_facebook.tsv', sep = '\t')
View(pf)
pf$prop_initiated = pf$friendships_initiated / pf$friend_count
View(pf)
pf$year_joined.bucket = cut(pf$year_joined,
c(2004,2009,2011,2012,2014))
ggplot(data = pf, aes(x = tenure, y = prop_initiated, color = year_joined.bucket)) +
geom_line(stat = 'summary', fun.y = median) +
scale_color_brewer('qual')
View(pf)
pf$year_joined.bucket = cut(pf$year_joined,
c(2004,2009,2011,2012,2014))
View(pf_subset)
ggplot(data = pf, aes(x = tenure, y = prop_initiated)) +
geom_line(stat = 'summary', fun.y = median)
ggplot(aes(x = cut, y = price/carat, color = color), data = dm) +
facet_wrap(~clarity) +
geom_point() +
scale_color_brewer('qual')
ggplot(aes(x = cut, y = price/carat, color = color), data = dm) +
facet_wrap(~clarity) +
geom_point() +
scale_color_brewer('div')
ggplot(aes(x = cut, y = price/carat, color = color), data = dm) +
facet_wrap(~clarity) +
geom_jitter() +
scale_color_brewer('div')
ggplot(aes(x = cut, y = price/carat, color = color), data = dm) +
facet_wrap(~clarity) +
geom_jitter() +
scale_color_brewer(type = 'div')
